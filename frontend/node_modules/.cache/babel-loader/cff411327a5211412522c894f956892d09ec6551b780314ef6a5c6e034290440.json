{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\clinic-system\\\\frontend\\\\src\\\\pages\\\\AdminDoctors.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../api/axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DAY_OPTIONS = [{\n  label: \"Mon\",\n  val: 1\n}, {\n  label: \"Tue\",\n  val: 2\n}, {\n  label: \"Wed\",\n  val: 3\n}, {\n  label: \"Thu\",\n  val: 4\n}, {\n  label: \"Fri\",\n  val: 5\n}, {\n  label: \"Sat\",\n  val: 6\n}, {\n  label: \"Sun\",\n  val: 0\n}];\nfunction dayLabel(dayVal) {\n  const found = DAY_OPTIONS.find(d => d.val === dayVal);\n  return found ? found.label : String(dayVal);\n}\nexport default function AdminDoctors() {\n  _s();\n  const [doctors, setDoctors] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // form fields\n  const [editingId, setEditingId] = useState(null);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [fullName, setFullName] = useState(\"\");\n  const [department, setDepartment] = useState(\"\");\n  const [bio, setBio] = useState(\"\");\n  const [yearsExperience, setYearsExperience] = useState(0);\n\n  // schedule blocks: [{days:[1,2], start:\"08:00\", end:\"16:00\"}]\n  const [blocks, setBlocks] = useState([{\n    days: [],\n    start: \"\",\n    end: \"\"\n  }]);\n  const [submitting, setSubmitting] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const resetForm = () => {\n    setEditingId(null);\n    setEmail(\"\");\n    setFullName(\"\");\n    setDepartment(\"\");\n    setBio(\"\");\n    setYearsExperience(0);\n    setBlocks([{\n      days: [],\n      start: \"\",\n      end: \"\"\n    }]);\n  };\n  const fetchDoctors = async () => {\n    setError(\"\");\n    setMsg(\"\");\n    setLoading(true);\n    try {\n      const res = await api.get(\"/doctors\");\n      setDoctors(res.data || []);\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || \"Failed to load doctors\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchDoctors();\n    // eslint-disable-next-line\n  }, []);\n\n  // ----- schedule helpers -----\n  const addBlock = () => setBlocks(prev => [...prev, {\n    days: [],\n    start: \"\",\n    end: \"\"\n  }]);\n  const removeBlock = idx => setBlocks(prev => prev.filter((_, i) => i !== idx));\n  const updateBlock = (idx, key, value) => {\n    setBlocks(prev => prev.map((b, i) => i === idx ? {\n      ...b,\n      [key]: value\n    } : b));\n  };\n  const toggleDayInBlock = (idx, dayVal) => {\n    setBlocks(prev => prev.map((b, i) => {\n      if (i !== idx) return b;\n      const has = b.days.includes(dayVal);\n      return {\n        ...b,\n        days: has ? b.days.filter(d => d !== dayVal) : [...b.days, dayVal]\n      };\n    }));\n  };\n\n  // Convert blocks => backend availability [{day, ranges:[{start,end}]}]\n  const availabilityFromBlocks = useMemo(() => {\n    const map = new Map(); // day -> ranges[]\n    for (const b of blocks) {\n      var _b$days;\n      if (!((_b$days = b.days) !== null && _b$days !== void 0 && _b$days.length)) continue;\n      if (!b.start || !b.end) continue;\n      for (const day of b.days) {\n        if (!map.has(day)) map.set(day, []);\n        map.get(day).push({\n          start: b.start,\n          end: b.end\n        });\n      }\n    }\n    return Array.from(map.entries()).map(([day, ranges]) => ({\n      day,\n      ranges\n    }));\n  }, [blocks]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setMsg(\"\");\n    if (!email.trim() || !fullName.trim() || !department.trim()) {\n      setError(\"Email, full name, and department are required.\");\n      return;\n    }\n    if (availabilityFromBlocks.length === 0) {\n      setError(\"Add at least one schedule block (days + start/end).\");\n      return;\n    }\n    const payload = {\n      email: email.trim().toLowerCase(),\n      fullName: fullName.trim(),\n      department: department.trim(),\n      bio: bio.trim(),\n      yearsExperience: Number(yearsExperience) || 0,\n      availability: availabilityFromBlocks\n    };\n    setSubmitting(true);\n    try {\n      if (editingId) {\n        await api.put(`/doctors/${editingId}`, payload);\n        setMsg(\"Doctor updated.\");\n      } else {\n        await api.post(\"/doctors\", payload);\n        setMsg(\"Doctor created.\");\n      }\n      resetForm();\n      fetchDoctors();\n    } catch (err) {\n      var _err$response3, _err$response3$data, _err$response4, _err$response4$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || (err === null || err === void 0 ? void 0 : (_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || \"Failed to save doctor.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const startEdit = d => {\n    setMsg(\"\");\n    setError(\"\");\n    setEditingId(d.id);\n    setEmail(d.email || \"\");\n    setFullName(d.fullName || \"\");\n    setDepartment(d.department || \"\");\n    setBio(d.bio || \"\");\n    setYearsExperience(d.yearsExperience || 0);\n\n    // convert backend availability -> blocks (approx)\n    // We create one block per day group based on first range sets (simple)\n    const av = Array.isArray(d.availability) ? d.availability : [];\n    if (!av.length) {\n      setBlocks([{\n        days: [],\n        start: \"\",\n        end: \"\"\n      }]);\n      return;\n    }\n\n    // simple approach: one block per day using its first range\n    const newBlocks = av.map(a => {\n      var _a$ranges, _a$ranges$, _a$ranges2, _a$ranges2$;\n      return {\n        days: [a.day],\n        start: ((_a$ranges = a.ranges) === null || _a$ranges === void 0 ? void 0 : (_a$ranges$ = _a$ranges[0]) === null || _a$ranges$ === void 0 ? void 0 : _a$ranges$.start) || \"\",\n        end: ((_a$ranges2 = a.ranges) === null || _a$ranges2 === void 0 ? void 0 : (_a$ranges2$ = _a$ranges2[0]) === null || _a$ranges2$ === void 0 ? void 0 : _a$ranges2$.end) || \"\"\n      };\n    });\n    setBlocks(newBlocks.length ? newBlocks : [{\n      days: [],\n      start: \"\",\n      end: \"\"\n    }]);\n  };\n  const removeDoctor = async doctorId => {\n    setMsg(\"\");\n    setError(\"\");\n    try {\n      await api.delete(`/doctors/${doctorId}`);\n      setMsg(\"Doctor removed.\");\n      fetchDoctors();\n    } catch (err) {\n      var _err$response5, _err$response5$data, _err$response6, _err$response6$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || (err === null || err === void 0 ? void 0 : (_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.error) || \"Remove failed.\");\n    }\n  };\n  const uploadAvatar = async (doctorId, file) => {\n    setMsg(\"\");\n    setError(\"\");\n    if (!file) return;\n    try {\n      const form = new FormData();\n      form.append(\"avatar\", file);\n      await api.patch(`/doctors/${doctorId}/avatar`, form, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setMsg(\"Avatar uploaded.\");\n      fetchDoctors();\n    } catch (err) {\n      var _err$response7, _err$response7$data, _err$response8, _err$response8$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : (_err$response7$data = _err$response7.data) === null || _err$response7$data === void 0 ? void 0 : _err$response7$data.message) || (err === null || err === void 0 ? void 0 : (_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : (_err$response8$data = _err$response8.data) === null || _err$response8$data === void 0 ? void 0 : _err$response8$data.error) || \"Upload failed (server error). Check backend console.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mx-auto max-w-5xl px-4 py-8 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap items-center justify-between gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-semibold text-slate-900\",\n          children: \"Manage Doctors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-slate-600\",\n          children: \"Admin panel to create, edit, remove doctors, and manage schedules.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/dashboard\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-800\",\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 17\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-start justify-between gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-slate-900\",\n            children: editingId ? \"Edit Doctor\" : \"Create Doctor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-slate-600\",\n            children: \"Tip: You can create the profile even if the doctor didn\\u2019t login yet. Role assignment happens when a User exists.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this), editingId && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: resetForm,\n          className: \"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-700 hover:bg-slate-50\",\n          children: \"Cancel edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"mt-6 grid gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-slate-700\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            placeholder: \"doctor@example.com\",\n            className: \"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-slate-700\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            placeholder: \"Temporary password for doctor\",\n            className: \"...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid gap-4 sm:grid-cols-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-slate-700\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: fullName,\n              onChange: e => setFullName(e.target.value),\n              placeholder: \"Dr. Ahmad Ali\",\n              className: \"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-slate-700\",\n              children: \"Department\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: department,\n              onChange: e => setDepartment(e.target.value),\n              placeholder: \"Cardiology\",\n              className: \"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-slate-700\",\n            children: \"Bio (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: bio,\n            onChange: e => setBio(e.target.value),\n            placeholder: \"Short description...\",\n            rows: 3,\n            className: \"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-slate-700\",\n            children: \"Years Experience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"0\",\n            value: yearsExperience,\n            onChange: e => setYearsExperience(e.target.value),\n            className: \"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-xl border border-slate-200 bg-slate-50 p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-semibold text-slate-900\",\n                children: \"Weekly Schedule\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-slate-600\",\n                children: \"Add multiple blocks: Mon\\u2013Tue 08:00\\u201316:00, Wed\\u2013Thu 14:00\\u201322:00, etc.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: addBlock,\n              className: \"rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700\",\n              children: \"+ Add block\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 space-y-4\",\n            children: blocks.map((b, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-xl border border-slate-200 bg-white p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: DAY_OPTIONS.map(d => /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => toggleDayInBlock(idx, d.val),\n                  className: `rounded-lg border px-3 py-2 text-sm ${b.days.includes(d.val) ? \"border-emerald-200 bg-emerald-50 text-emerald-800\" : \"border-slate-200 bg-white text-slate-700 hover:bg-slate-50\"}`,\n                  children: d.label\n                }, d.val, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 grid grid-cols-2 gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-xs font-medium text-slate-600\",\n                    children: \"Start\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    value: b.start,\n                    onChange: e => updateBlock(idx, \"start\", e.target.value),\n                    className: \"mt-1 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-xs font-medium text-slate-600\",\n                    children: \"End\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"time\",\n                    value: b.end,\n                    onChange: e => updateBlock(idx, \"end\", e.target.value),\n                    className: \"mt-1 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 37\n              }, this), blocks.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => removeBlock(idx),\n                className: \"mt-3 rounded-xl bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-700\",\n                children: \"Remove block\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 41\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: submitting,\n          className: \"w-full rounded-xl bg-emerald-600 px-4 py-3 text-sm font-semibold text-white hover:bg-emerald-700 disabled:opacity-60\",\n          children: submitting ? \"Saving...\" : editingId ? \"Update Doctor\" : \"Create Doctor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-end justify-between gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-slate-900\",\n          children: \"Doctors List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchDoctors,\n          className: \"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 17\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-2xl border border-slate-200 bg-white p-5 text-sm text-slate-600\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 21\n      }, this), !loading && doctors.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-2xl border border-slate-200 bg-white p-5 text-sm text-slate-600\",\n        children: \"No doctors yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-3\",\n        children: doctors.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap items-start justify-between gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-16 w-16 overflow-hidden rounded-full border border-slate-200 bg-slate-50\",\n                children: d.avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: d.avatarUrl,\n                  alt: d.fullName,\n                  className: \"h-full w-full object-cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 45\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex h-full w-full items-center justify-center text-xs text-slate-500\",\n                  children: \"No photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-base font-semibold text-slate-900\",\n                  children: d.fullName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-slate-600\",\n                  children: d.department\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-slate-500\",\n                  children: d.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-slate-500\",\n                  children: [d.yearsExperience || 0, \" years experience\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => startEdit(d),\n                className: \"rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => removeDoctor(d.id),\n                className: \"rounded-xl bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-700\",\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-semibold text-slate-900\",\n              children: \"Schedule\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 33\n            }, this), Array.isArray(d.availability) && d.availability.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 space-y-2 text-sm text-slate-700\",\n              children: d.availability.slice().sort((a, b) => a.day - b.day).map((a, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex rounded-lg bg-white px-2 py-1 text-xs font-semibold text-slate-700 border border-slate-200\",\n                  children: dayLabel(a.day)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-slate-600\",\n                  children: (a.ranges || []).map(r => `${r.start}–${r.end}`).join(\" , \")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 53\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 49\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm text-slate-600\",\n              children: \"No schedule set.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex flex-wrap items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-slate-700\",\n              children: \"Upload photo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: e => {\n                var _e$target$files;\n                return uploadAvatar(d.id, (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]);\n              },\n              className: \"text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-slate-500\",\n              children: \"If upload fails, backend Cloudinary config is the issue (500).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 29\n          }, this)]\n        }, d.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminDoctors, \"TjKWwLRWivlxC8oj8quMshwCml8=\");\n_c = AdminDoctors;\nvar _c;\n$RefreshReg$(_c, \"AdminDoctors\");","map":{"version":3,"names":["useEffect","useMemo","useState","Link","api","jsxDEV","_jsxDEV","DAY_OPTIONS","label","val","dayLabel","dayVal","found","find","d","String","AdminDoctors","_s","doctors","setDoctors","loading","setLoading","editingId","setEditingId","email","setEmail","password","setPassword","fullName","setFullName","department","setDepartment","bio","setBio","yearsExperience","setYearsExperience","blocks","setBlocks","days","start","end","submitting","setSubmitting","msg","setMsg","error","setError","resetForm","fetchDoctors","res","get","data","err","_err$response","_err$response$data","_err$response2","_err$response2$data","response","message","addBlock","prev","removeBlock","idx","filter","_","i","updateBlock","key","value","map","b","toggleDayInBlock","has","includes","availabilityFromBlocks","Map","_b$days","length","day","set","push","Array","from","entries","ranges","handleSubmit","e","preventDefault","trim","payload","toLowerCase","Number","availability","put","post","_err$response3","_err$response3$data","_err$response4","_err$response4$data","startEdit","id","av","isArray","newBlocks","a","_a$ranges","_a$ranges$","_a$ranges2","_a$ranges2$","removeDoctor","doctorId","delete","_err$response5","_err$response5$data","_err$response6","_err$response6$data","uploadAvatar","file","form","FormData","append","patch","headers","_err$response7","_err$response7$data","_err$response8","_err$response8$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","type","onClick","onSubmit","onChange","target","placeholder","rows","min","disabled","avatarUrl","src","alt","slice","sort","r","join","accept","_e$target$files","files","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/clinic-system/frontend/src/pages/AdminDoctors.js"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport api from \"../api/axios\";\r\n\r\nconst DAY_OPTIONS = [\r\n    { label: \"Mon\", val: 1 },\r\n    { label: \"Tue\", val: 2 },\r\n    { label: \"Wed\", val: 3 },\r\n    { label: \"Thu\", val: 4 },\r\n    { label: \"Fri\", val: 5 },\r\n    { label: \"Sat\", val: 6 },\r\n    { label: \"Sun\", val: 0 },\r\n];\r\n\r\nfunction dayLabel(dayVal) {\r\n    const found = DAY_OPTIONS.find((d) => d.val === dayVal);\r\n    return found ? found.label : String(dayVal);\r\n}\r\n\r\nexport default function AdminDoctors() {\r\n    const [doctors, setDoctors] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // form fields\r\n    const [editingId, setEditingId] = useState(null);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [fullName, setFullName] = useState(\"\");\r\n    const [department, setDepartment] = useState(\"\");\r\n    const [bio, setBio] = useState(\"\");\r\n    const [yearsExperience, setYearsExperience] = useState(0);\r\n\r\n    // schedule blocks: [{days:[1,2], start:\"08:00\", end:\"16:00\"}]\r\n    const [blocks, setBlocks] = useState([{ days: [], start: \"\", end: \"\" }]);\r\n\r\n    const [submitting, setSubmitting] = useState(false);\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const resetForm = () => {\r\n        setEditingId(null);\r\n        setEmail(\"\");\r\n        setFullName(\"\");\r\n        setDepartment(\"\");\r\n        setBio(\"\");\r\n        setYearsExperience(0);\r\n        setBlocks([{ days: [], start: \"\", end: \"\" }]);\r\n    };\r\n\r\n    const fetchDoctors = async () => {\r\n        setError(\"\");\r\n        setMsg(\"\");\r\n        setLoading(true);\r\n        try {\r\n            const res = await api.get(\"/doctors\");\r\n            setDoctors(res.data || []);\r\n        } catch (err) {\r\n            setError(err?.response?.data?.message || err?.response?.data?.error || \"Failed to load doctors\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchDoctors();\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    // ----- schedule helpers -----\r\n    const addBlock = () => setBlocks((prev) => [...prev, { days: [], start: \"\", end: \"\" }]);\r\n\r\n    const removeBlock = (idx) => setBlocks((prev) => prev.filter((_, i) => i !== idx));\r\n\r\n    const updateBlock = (idx, key, value) => {\r\n        setBlocks((prev) => prev.map((b, i) => (i === idx ? { ...b, [key]: value } : b)));\r\n    };\r\n\r\n    const toggleDayInBlock = (idx, dayVal) => {\r\n        setBlocks((prev) =>\r\n            prev.map((b, i) => {\r\n                if (i !== idx) return b;\r\n                const has = b.days.includes(dayVal);\r\n                return { ...b, days: has ? b.days.filter((d) => d !== dayVal) : [...b.days, dayVal] };\r\n            })\r\n        );\r\n    };\r\n\r\n    // Convert blocks => backend availability [{day, ranges:[{start,end}]}]\r\n    const availabilityFromBlocks = useMemo(() => {\r\n        const map = new Map(); // day -> ranges[]\r\n        for (const b of blocks) {\r\n            if (!b.days?.length) continue;\r\n            if (!b.start || !b.end) continue;\r\n\r\n            for (const day of b.days) {\r\n                if (!map.has(day)) map.set(day, []);\r\n                map.get(day).push({ start: b.start, end: b.end });\r\n            }\r\n        }\r\n        return Array.from(map.entries()).map(([day, ranges]) => ({ day, ranges }));\r\n    }, [blocks]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        setMsg(\"\");\r\n\r\n        if (!email.trim() || !fullName.trim() || !department.trim()) {\r\n            setError(\"Email, full name, and department are required.\");\r\n            return;\r\n        }\r\n\r\n        if (availabilityFromBlocks.length === 0) {\r\n            setError(\"Add at least one schedule block (days + start/end).\");\r\n            return;\r\n        }\r\n\r\n        const payload = {\r\n            email: email.trim().toLowerCase(),\r\n            fullName: fullName.trim(),\r\n            department: department.trim(),\r\n            bio: bio.trim(),\r\n            yearsExperience: Number(yearsExperience) || 0,\r\n            availability: availabilityFromBlocks,\r\n        };\r\n\r\n        setSubmitting(true);\r\n        try {\r\n            if (editingId) {\r\n                await api.put(`/doctors/${editingId}`, payload);\r\n                setMsg(\"Doctor updated.\");\r\n            } else {\r\n                await api.post(\"/doctors\", payload);\r\n                setMsg(\"Doctor created.\");\r\n            }\r\n            resetForm();\r\n            fetchDoctors();\r\n        } catch (err) {\r\n            setError(err?.response?.data?.message || err?.response?.data?.error || \"Failed to save doctor.\");\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const startEdit = (d) => {\r\n        setMsg(\"\");\r\n        setError(\"\");\r\n        setEditingId(d.id);\r\n        setEmail(d.email || \"\");\r\n        setFullName(d.fullName || \"\");\r\n        setDepartment(d.department || \"\");\r\n        setBio(d.bio || \"\");\r\n        setYearsExperience(d.yearsExperience || 0);\r\n\r\n        // convert backend availability -> blocks (approx)\r\n        // We create one block per day group based on first range sets (simple)\r\n        const av = Array.isArray(d.availability) ? d.availability : [];\r\n        if (!av.length) {\r\n            setBlocks([{ days: [], start: \"\", end: \"\" }]);\r\n            return;\r\n        }\r\n\r\n        // simple approach: one block per day using its first range\r\n        const newBlocks = av.map((a) => ({\r\n            days: [a.day],\r\n            start: a.ranges?.[0]?.start || \"\",\r\n            end: a.ranges?.[0]?.end || \"\",\r\n        }));\r\n\r\n        setBlocks(newBlocks.length ? newBlocks : [{ days: [], start: \"\", end: \"\" }]);\r\n    };\r\n\r\n    const removeDoctor = async (doctorId) => {\r\n        setMsg(\"\");\r\n        setError(\"\");\r\n        try {\r\n            await api.delete(`/doctors/${doctorId}`);\r\n            setMsg(\"Doctor removed.\");\r\n            fetchDoctors();\r\n        } catch (err) {\r\n            setError(err?.response?.data?.message || err?.response?.data?.error || \"Remove failed.\");\r\n        }\r\n    };\r\n\r\n    const uploadAvatar = async (doctorId, file) => {\r\n        setMsg(\"\");\r\n        setError(\"\");\r\n        if (!file) return;\r\n\r\n        try {\r\n            const form = new FormData();\r\n            form.append(\"avatar\", file);\r\n\r\n            await api.patch(`/doctors/${doctorId}/avatar`, form, {\r\n                headers: { \"Content-Type\": \"multipart/form-data\" },\r\n            });\r\n\r\n            setMsg(\"Avatar uploaded.\");\r\n            fetchDoctors();\r\n        } catch (err) {\r\n            setError(\r\n                err?.response?.data?.message ||\r\n                err?.response?.data?.error ||\r\n                \"Upload failed (server error). Check backend console.\"\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"mx-auto max-w-5xl px-4 py-8 space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-semibold text-slate-900\">Manage Doctors</h1>\r\n                    <p className=\"mt-1 text-sm text-slate-600\">Admin panel to create, edit, remove doctors, and manage schedules.</p>\r\n                </div>\r\n\r\n                <Link to=\"/dashboard\">\r\n                    <button className=\"rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50\">\r\n                        Back\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n\r\n            {/* Alerts */}\r\n            {msg && (\r\n                <div className=\"rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-800\">\r\n                    {msg}\r\n                </div>\r\n            )}\r\n            {error && (\r\n                <div className=\"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            {/* Form */}\r\n            <div className=\"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm\">\r\n                <div className=\"flex flex-wrap items-start justify-between gap-3\">\r\n                    <div>\r\n                        <h2 className=\"text-lg font-semibold text-slate-900\">\r\n                            {editingId ? \"Edit Doctor\" : \"Create Doctor\"}\r\n                        </h2>\r\n                        <p className=\"text-sm text-slate-600\">\r\n                            Tip: You can create the profile even if the doctor didn’t login yet. Role assignment happens when a User exists.\r\n                        </p>\r\n                    </div>\r\n\r\n                    {editingId && (\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={resetForm}\r\n                            className=\"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-700 hover:bg-slate-50\"\r\n                        >\r\n                            Cancel edit\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"mt-6 grid gap-4\">\r\n                    <div>\r\n                        <label className=\"text-sm font-medium text-slate-700\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            placeholder=\"doctor@example.com\"\r\n                            className=\"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\r\n                        />\r\n\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"text-sm font-medium text-slate-700\">Email</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            placeholder=\"Temporary password for doctor\"\r\n                            className=\"...\"\r\n                        />\r\n\r\n                    </div>\r\n\r\n                    <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                        <div>\r\n                            <label className=\"text-sm font-medium text-slate-700\">Full Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={fullName}\r\n                                onChange={(e) => setFullName(e.target.value)}\r\n                                placeholder=\"Dr. Ahmad Ali\"\r\n                                className=\"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"text-sm font-medium text-slate-700\">Department</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={department}\r\n                                onChange={(e) => setDepartment(e.target.value)}\r\n                                placeholder=\"Cardiology\"\r\n                                className=\"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"text-sm font-medium text-slate-700\">Bio (optional)</label>\r\n                        <textarea\r\n                            value={bio}\r\n                            onChange={(e) => setBio(e.target.value)}\r\n                            placeholder=\"Short description...\"\r\n                            rows={3}\r\n                            className=\"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"text-sm font-medium text-slate-700\">Years Experience</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            min=\"0\"\r\n                            value={yearsExperience}\r\n                            onChange={(e) => setYearsExperience(e.target.value)}\r\n                            className=\"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Schedule Blocks */}\r\n                    <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-4\">\r\n                        <div className=\"flex items-center justify-between gap-3\">\r\n                            <div>\r\n                                <p className=\"text-sm font-semibold text-slate-900\">Weekly Schedule</p>\r\n                                <p className=\"text-xs text-slate-600\">Add multiple blocks: Mon–Tue 08:00–16:00, Wed–Thu 14:00–22:00, etc.</p>\r\n                            </div>\r\n\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={addBlock}\r\n                                className=\"rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700\"\r\n                            >\r\n                                + Add block\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"mt-4 space-y-4\">\r\n                            {blocks.map((b, idx) => (\r\n                                <div key={idx} className=\"rounded-xl border border-slate-200 bg-white p-4\">\r\n                                    <div className=\"flex flex-wrap gap-2\">\r\n                                        {DAY_OPTIONS.map((d) => (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                key={d.val}\r\n                                                onClick={() => toggleDayInBlock(idx, d.val)}\r\n                                                className={`rounded-lg border px-3 py-2 text-sm ${b.days.includes(d.val)\r\n                                                    ? \"border-emerald-200 bg-emerald-50 text-emerald-800\"\r\n                                                    : \"border-slate-200 bg-white text-slate-700 hover:bg-slate-50\"\r\n                                                    }`}\r\n                                            >\r\n                                                {d.label}\r\n                                            </button>\r\n                                        ))}\r\n                                    </div>\r\n\r\n                                    <div className=\"mt-3 grid grid-cols-2 gap-3\">\r\n                                        <div>\r\n                                            <label className=\"text-xs font-medium text-slate-600\">Start</label>\r\n                                            <input\r\n                                                type=\"time\"\r\n                                                value={b.start}\r\n                                                onChange={(e) => updateBlock(idx, \"start\", e.target.value)}\r\n                                                className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <label className=\"text-xs font-medium text-slate-600\">End</label>\r\n                                            <input\r\n                                                type=\"time\"\r\n                                                value={b.end}\r\n                                                onChange={(e) => updateBlock(idx, \"end\", e.target.value)}\r\n                                                className=\"mt-1 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-emerald-400\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {blocks.length > 1 && (\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => removeBlock(idx)}\r\n                                            className=\"mt-3 rounded-xl bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-700\"\r\n                                        >\r\n                                            Remove block\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={submitting}\r\n                        className=\"w-full rounded-xl bg-emerald-600 px-4 py-3 text-sm font-semibold text-white hover:bg-emerald-700 disabled:opacity-60\"\r\n                    >\r\n                        {submitting ? \"Saving...\" : editingId ? \"Update Doctor\" : \"Create Doctor\"}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n            {/* List */}\r\n            <div className=\"space-y-3\">\r\n                <div className=\"flex items-end justify-between gap-3\">\r\n                    <h2 className=\"text-lg font-semibold text-slate-900\">Doctors List</h2>\r\n                    <button\r\n                        onClick={fetchDoctors}\r\n                        className=\"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50\"\r\n                    >\r\n                        Refresh\r\n                    </button>\r\n                </div>\r\n\r\n                {loading && (\r\n                    <div className=\"rounded-2xl border border-slate-200 bg-white p-5 text-sm text-slate-600\">\r\n                        Loading...\r\n                    </div>\r\n                )}\r\n\r\n                {!loading && doctors.length === 0 && (\r\n                    <div className=\"rounded-2xl border border-slate-200 bg-white p-5 text-sm text-slate-600\">\r\n                        No doctors yet.\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"grid gap-3\">\r\n                    {doctors.map((d) => (\r\n                        <div key={d.id} className=\"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm\">\r\n                            <div className=\"flex flex-wrap items-start justify-between gap-4\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"h-16 w-16 overflow-hidden rounded-full border border-slate-200 bg-slate-50\">\r\n                                        {d.avatarUrl ? (\r\n                                            <img src={d.avatarUrl} alt={d.fullName} className=\"h-full w-full object-cover\" />\r\n                                        ) : (\r\n                                            <div className=\"flex h-full w-full items-center justify-center text-xs text-slate-500\">\r\n                                                No photo\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <p className=\"text-base font-semibold text-slate-900\">{d.fullName}</p>\r\n                                        <p className=\"text-sm text-slate-600\">{d.department}</p>\r\n                                        <p className=\"text-xs text-slate-500\">{d.email}</p>\r\n                                        <p className=\"text-xs text-slate-500\">{d.yearsExperience || 0} years experience</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex flex-wrap gap-2\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => startEdit(d)}\r\n                                        className=\"rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700\"\r\n                                    >\r\n                                        Edit\r\n                                    </button>\r\n\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => removeDoctor(d.id)}\r\n                                        className=\"rounded-xl bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-700\"\r\n                                    >\r\n                                        Remove\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Availability Preview */}\r\n                            <div className=\"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4\">\r\n                                <p className=\"text-sm font-semibold text-slate-900\">Schedule</p>\r\n\r\n                                {Array.isArray(d.availability) && d.availability.length > 0 ? (\r\n                                    <div className=\"mt-2 space-y-2 text-sm text-slate-700\">\r\n                                        {d.availability\r\n                                            .slice()\r\n                                            .sort((a, b) => a.day - b.day)\r\n                                            .map((a, i) => (\r\n                                                <div key={i} className=\"flex flex-wrap items-center gap-2\">\r\n                                                    <span className=\"inline-flex rounded-lg bg-white px-2 py-1 text-xs font-semibold text-slate-700 border border-slate-200\">\r\n                                                        {dayLabel(a.day)}\r\n                                                    </span>\r\n                                                    <span className=\"text-xs text-slate-600\">\r\n                                                        {(a.ranges || [])\r\n                                                            .map((r) => `${r.start}–${r.end}`)\r\n                                                            .join(\" , \")}\r\n                                                    </span>\r\n                                                </div>\r\n                                            ))}\r\n                                    </div>\r\n                                ) : (\r\n                                    <p className=\"mt-2 text-sm text-slate-600\">No schedule set.</p>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Avatar upload */}\r\n                            <div className=\"mt-4 flex flex-wrap items-center gap-3\">\r\n                                <label className=\"text-sm font-medium text-slate-700\">Upload photo:</label>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    accept=\"image/*\"\r\n                                    onChange={(e) => uploadAvatar(d.id, e.target.files?.[0])}\r\n                                    className=\"text-sm\"\r\n                                />\r\n                                <p className=\"text-xs text-slate-500\">\r\n                                    If upload fails, backend Cloudinary config is the issue (500).\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AACpD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,GAAG,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,WAAW,GAAG,CAChB;EAAEC,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAAE,CAAC,EACxB;EAAED,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAAE,CAAC,EACxB;EAAED,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAAE,CAAC,EACxB;EAAED,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAAE,CAAC,EACxB;EAAED,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAAE,CAAC,EACxB;EAAED,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAAE,CAAC,EACxB;EAAED,KAAK,EAAE,KAAK;EAAEC,GAAG,EAAE;AAAE,CAAC,CAC3B;AAED,SAASC,QAAQA,CAACC,MAAM,EAAE;EACtB,MAAMC,KAAK,GAAGL,WAAW,CAACM,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACL,GAAG,KAAKE,MAAM,CAAC;EACvD,OAAOC,KAAK,GAAGA,KAAK,CAACJ,KAAK,GAAGO,MAAM,CAACJ,MAAM,CAAC;AAC/C;AAEA,eAAe,SAASK,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;;EAE5C;EACA,MAAM,CAACoB,SAAS,EAAEC,YAAY,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACsB,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwB,QAAQ,EAAEC,WAAW,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC0B,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC4B,UAAU,EAAEC,aAAa,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC8B,GAAG,EAAEC,MAAM,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACgC,eAAe,EAAEC,kBAAkB,CAAC,GAAGjC,QAAQ,CAAC,CAAC,CAAC;;EAEzD;EACA,MAAM,CAACkC,MAAM,EAAEC,SAAS,CAAC,GAAGnC,QAAQ,CAAC,CAAC;IAAEoC,IAAI,EAAE,EAAE;IAAEC,KAAK,EAAE,EAAE;IAAEC,GAAG,EAAE;EAAG,CAAC,CAAC,CAAC;EAExE,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACyC,GAAG,EAAEC,MAAM,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAAC2C,KAAK,EAAEC,QAAQ,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAM6C,SAAS,GAAGA,CAAA,KAAM;IACpBxB,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,EAAE,CAAC;IACZI,WAAW,CAAC,EAAE,CAAC;IACfE,aAAa,CAAC,EAAE,CAAC;IACjBE,MAAM,CAAC,EAAE,CAAC;IACVE,kBAAkB,CAAC,CAAC,CAAC;IACrBE,SAAS,CAAC,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,GAAG,EAAE;IAAG,CAAC,CAAC,CAAC;EACjD,CAAC;EAED,MAAMQ,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7BF,QAAQ,CAAC,EAAE,CAAC;IACZF,MAAM,CAAC,EAAE,CAAC;IACVvB,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACA,MAAM4B,GAAG,GAAG,MAAM7C,GAAG,CAAC8C,GAAG,CAAC,UAAU,CAAC;MACrC/B,UAAU,CAAC8B,GAAG,CAACE,IAAI,IAAI,EAAE,CAAC;IAC9B,CAAC,CAAC,OAAOC,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA,EAAAC,cAAA,EAAAC,mBAAA;MACVV,QAAQ,CAAC,CAAAM,GAAG,aAAHA,GAAG,wBAAAC,aAAA,GAAHD,GAAG,CAAEK,QAAQ,cAAAJ,aAAA,wBAAAC,kBAAA,GAAbD,aAAA,CAAeF,IAAI,cAAAG,kBAAA,uBAAnBA,kBAAA,CAAqBI,OAAO,MAAIN,GAAG,aAAHA,GAAG,wBAAAG,cAAA,GAAHH,GAAG,CAAEK,QAAQ,cAAAF,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAeJ,IAAI,cAAAK,mBAAA,uBAAnBA,mBAAA,CAAqBX,KAAK,KAAI,wBAAwB,CAAC;IACpG,CAAC,SAAS;MACNxB,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAEDrB,SAAS,CAAC,MAAM;IACZgD,YAAY,CAAC,CAAC;IACd;EACJ,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMW,QAAQ,GAAGA,CAAA,KAAMtB,SAAS,CAAEuB,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;IAAEtB,IAAI,EAAE,EAAE;IAAEC,KAAK,EAAE,EAAE;IAAEC,GAAG,EAAE;EAAG,CAAC,CAAC,CAAC;EAEvF,MAAMqB,WAAW,GAAIC,GAAG,IAAKzB,SAAS,CAAEuB,IAAI,IAAKA,IAAI,CAACG,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,KAAKH,GAAG,CAAC,CAAC;EAElF,MAAMI,WAAW,GAAGA,CAACJ,GAAG,EAAEK,GAAG,EAAEC,KAAK,KAAK;IACrC/B,SAAS,CAAEuB,IAAI,IAAKA,IAAI,CAACS,GAAG,CAAC,CAACC,CAAC,EAAEL,CAAC,KAAMA,CAAC,KAAKH,GAAG,GAAG;MAAE,GAAGQ,CAAC;MAAE,CAACH,GAAG,GAAGC;IAAM,CAAC,GAAGE,CAAE,CAAC,CAAC;EACrF,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAACT,GAAG,EAAEnD,MAAM,KAAK;IACtC0B,SAAS,CAAEuB,IAAI,IACXA,IAAI,CAACS,GAAG,CAAC,CAACC,CAAC,EAAEL,CAAC,KAAK;MACf,IAAIA,CAAC,KAAKH,GAAG,EAAE,OAAOQ,CAAC;MACvB,MAAME,GAAG,GAAGF,CAAC,CAAChC,IAAI,CAACmC,QAAQ,CAAC9D,MAAM,CAAC;MACnC,OAAO;QAAE,GAAG2D,CAAC;QAAEhC,IAAI,EAAEkC,GAAG,GAAGF,CAAC,CAAChC,IAAI,CAACyB,MAAM,CAAEjD,CAAC,IAAKA,CAAC,KAAKH,MAAM,CAAC,GAAG,CAAC,GAAG2D,CAAC,CAAChC,IAAI,EAAE3B,MAAM;MAAE,CAAC;IACzF,CAAC,CACL,CAAC;EACL,CAAC;;EAED;EACA,MAAM+D,sBAAsB,GAAGzE,OAAO,CAAC,MAAM;IACzC,MAAMoE,GAAG,GAAG,IAAIM,GAAG,CAAC,CAAC,CAAC,CAAC;IACvB,KAAK,MAAML,CAAC,IAAIlC,MAAM,EAAE;MAAA,IAAAwC,OAAA;MACpB,IAAI,GAAAA,OAAA,GAACN,CAAC,CAAChC,IAAI,cAAAsC,OAAA,eAANA,OAAA,CAAQC,MAAM,GAAE;MACrB,IAAI,CAACP,CAAC,CAAC/B,KAAK,IAAI,CAAC+B,CAAC,CAAC9B,GAAG,EAAE;MAExB,KAAK,MAAMsC,GAAG,IAAIR,CAAC,CAAChC,IAAI,EAAE;QACtB,IAAI,CAAC+B,GAAG,CAACG,GAAG,CAACM,GAAG,CAAC,EAAET,GAAG,CAACU,GAAG,CAACD,GAAG,EAAE,EAAE,CAAC;QACnCT,GAAG,CAACnB,GAAG,CAAC4B,GAAG,CAAC,CAACE,IAAI,CAAC;UAAEzC,KAAK,EAAE+B,CAAC,CAAC/B,KAAK;UAAEC,GAAG,EAAE8B,CAAC,CAAC9B;QAAI,CAAC,CAAC;MACrD;IACJ;IACA,OAAOyC,KAAK,CAACC,IAAI,CAACb,GAAG,CAACc,OAAO,CAAC,CAAC,CAAC,CAACd,GAAG,CAAC,CAAC,CAACS,GAAG,EAAEM,MAAM,CAAC,MAAM;MAAEN,GAAG;MAAEM;IAAO,CAAC,CAAC,CAAC;EAC9E,CAAC,EAAE,CAAChD,MAAM,CAAC,CAAC;EAEZ,MAAMiD,YAAY,GAAG,MAAOC,CAAC,IAAK;IAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBzC,QAAQ,CAAC,EAAE,CAAC;IACZF,MAAM,CAAC,EAAE,CAAC;IAEV,IAAI,CAACpB,KAAK,CAACgE,IAAI,CAAC,CAAC,IAAI,CAAC5D,QAAQ,CAAC4D,IAAI,CAAC,CAAC,IAAI,CAAC1D,UAAU,CAAC0D,IAAI,CAAC,CAAC,EAAE;MACzD1C,QAAQ,CAAC,gDAAgD,CAAC;MAC1D;IACJ;IAEA,IAAI4B,sBAAsB,CAACG,MAAM,KAAK,CAAC,EAAE;MACrC/B,QAAQ,CAAC,qDAAqD,CAAC;MAC/D;IACJ;IAEA,MAAM2C,OAAO,GAAG;MACZjE,KAAK,EAAEA,KAAK,CAACgE,IAAI,CAAC,CAAC,CAACE,WAAW,CAAC,CAAC;MACjC9D,QAAQ,EAAEA,QAAQ,CAAC4D,IAAI,CAAC,CAAC;MACzB1D,UAAU,EAAEA,UAAU,CAAC0D,IAAI,CAAC,CAAC;MAC7BxD,GAAG,EAAEA,GAAG,CAACwD,IAAI,CAAC,CAAC;MACftD,eAAe,EAAEyD,MAAM,CAACzD,eAAe,CAAC,IAAI,CAAC;MAC7C0D,YAAY,EAAElB;IAClB,CAAC;IAEDhC,aAAa,CAAC,IAAI,CAAC;IACnB,IAAI;MACA,IAAIpB,SAAS,EAAE;QACX,MAAMlB,GAAG,CAACyF,GAAG,CAAC,YAAYvE,SAAS,EAAE,EAAEmE,OAAO,CAAC;QAC/C7C,MAAM,CAAC,iBAAiB,CAAC;MAC7B,CAAC,MAAM;QACH,MAAMxC,GAAG,CAAC0F,IAAI,CAAC,UAAU,EAAEL,OAAO,CAAC;QACnC7C,MAAM,CAAC,iBAAiB,CAAC;MAC7B;MACAG,SAAS,CAAC,CAAC;MACXC,YAAY,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOI,GAAG,EAAE;MAAA,IAAA2C,cAAA,EAAAC,mBAAA,EAAAC,cAAA,EAAAC,mBAAA;MACVpD,QAAQ,CAAC,CAAAM,GAAG,aAAHA,GAAG,wBAAA2C,cAAA,GAAH3C,GAAG,CAAEK,QAAQ,cAAAsC,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAe5C,IAAI,cAAA6C,mBAAA,uBAAnBA,mBAAA,CAAqBtC,OAAO,MAAIN,GAAG,aAAHA,GAAG,wBAAA6C,cAAA,GAAH7C,GAAG,CAAEK,QAAQ,cAAAwC,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAe9C,IAAI,cAAA+C,mBAAA,uBAAnBA,mBAAA,CAAqBrD,KAAK,KAAI,wBAAwB,CAAC;IACpG,CAAC,SAAS;MACNH,aAAa,CAAC,KAAK,CAAC;IACxB;EACJ,CAAC;EAED,MAAMyD,SAAS,GAAIrF,CAAC,IAAK;IACrB8B,MAAM,CAAC,EAAE,CAAC;IACVE,QAAQ,CAAC,EAAE,CAAC;IACZvB,YAAY,CAACT,CAAC,CAACsF,EAAE,CAAC;IAClB3E,QAAQ,CAACX,CAAC,CAACU,KAAK,IAAI,EAAE,CAAC;IACvBK,WAAW,CAACf,CAAC,CAACc,QAAQ,IAAI,EAAE,CAAC;IAC7BG,aAAa,CAACjB,CAAC,CAACgB,UAAU,IAAI,EAAE,CAAC;IACjCG,MAAM,CAACnB,CAAC,CAACkB,GAAG,IAAI,EAAE,CAAC;IACnBG,kBAAkB,CAACrB,CAAC,CAACoB,eAAe,IAAI,CAAC,CAAC;;IAE1C;IACA;IACA,MAAMmE,EAAE,GAAGpB,KAAK,CAACqB,OAAO,CAACxF,CAAC,CAAC8E,YAAY,CAAC,GAAG9E,CAAC,CAAC8E,YAAY,GAAG,EAAE;IAC9D,IAAI,CAACS,EAAE,CAACxB,MAAM,EAAE;MACZxC,SAAS,CAAC,CAAC;QAAEC,IAAI,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,GAAG,EAAE;MAAG,CAAC,CAAC,CAAC;MAC7C;IACJ;;IAEA;IACA,MAAM+D,SAAS,GAAGF,EAAE,CAAChC,GAAG,CAAEmC,CAAC;MAAA,IAAAC,SAAA,EAAAC,UAAA,EAAAC,UAAA,EAAAC,WAAA;MAAA,OAAM;QAC7BtE,IAAI,EAAE,CAACkE,CAAC,CAAC1B,GAAG,CAAC;QACbvC,KAAK,EAAE,EAAAkE,SAAA,GAAAD,CAAC,CAACpB,MAAM,cAAAqB,SAAA,wBAAAC,UAAA,GAARD,SAAA,CAAW,CAAC,CAAC,cAAAC,UAAA,uBAAbA,UAAA,CAAenE,KAAK,KAAI,EAAE;QACjCC,GAAG,EAAE,EAAAmE,UAAA,GAAAH,CAAC,CAACpB,MAAM,cAAAuB,UAAA,wBAAAC,WAAA,GAARD,UAAA,CAAW,CAAC,CAAC,cAAAC,WAAA,uBAAbA,WAAA,CAAepE,GAAG,KAAI;MAC/B,CAAC;IAAA,CAAC,CAAC;IAEHH,SAAS,CAACkE,SAAS,CAAC1B,MAAM,GAAG0B,SAAS,GAAG,CAAC;MAAEjE,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,GAAG,EAAE;IAAG,CAAC,CAAC,CAAC;EAChF,CAAC;EAED,MAAMqE,YAAY,GAAG,MAAOC,QAAQ,IAAK;IACrClE,MAAM,CAAC,EAAE,CAAC;IACVE,QAAQ,CAAC,EAAE,CAAC;IACZ,IAAI;MACA,MAAM1C,GAAG,CAAC2G,MAAM,CAAC,YAAYD,QAAQ,EAAE,CAAC;MACxClE,MAAM,CAAC,iBAAiB,CAAC;MACzBI,YAAY,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOI,GAAG,EAAE;MAAA,IAAA4D,cAAA,EAAAC,mBAAA,EAAAC,cAAA,EAAAC,mBAAA;MACVrE,QAAQ,CAAC,CAAAM,GAAG,aAAHA,GAAG,wBAAA4D,cAAA,GAAH5D,GAAG,CAAEK,QAAQ,cAAAuD,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAe7D,IAAI,cAAA8D,mBAAA,uBAAnBA,mBAAA,CAAqBvD,OAAO,MAAIN,GAAG,aAAHA,GAAG,wBAAA8D,cAAA,GAAH9D,GAAG,CAAEK,QAAQ,cAAAyD,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAe/D,IAAI,cAAAgE,mBAAA,uBAAnBA,mBAAA,CAAqBtE,KAAK,KAAI,gBAAgB,CAAC;IAC5F;EACJ,CAAC;EAED,MAAMuE,YAAY,GAAG,MAAAA,CAAON,QAAQ,EAAEO,IAAI,KAAK;IAC3CzE,MAAM,CAAC,EAAE,CAAC;IACVE,QAAQ,CAAC,EAAE,CAAC;IACZ,IAAI,CAACuE,IAAI,EAAE;IAEX,IAAI;MACA,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC3BD,IAAI,CAACE,MAAM,CAAC,QAAQ,EAAEH,IAAI,CAAC;MAE3B,MAAMjH,GAAG,CAACqH,KAAK,CAAC,YAAYX,QAAQ,SAAS,EAAEQ,IAAI,EAAE;QACjDI,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACrD,CAAC,CAAC;MAEF9E,MAAM,CAAC,kBAAkB,CAAC;MAC1BI,YAAY,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOI,GAAG,EAAE;MAAA,IAAAuE,cAAA,EAAAC,mBAAA,EAAAC,cAAA,EAAAC,mBAAA;MACVhF,QAAQ,CACJ,CAAAM,GAAG,aAAHA,GAAG,wBAAAuE,cAAA,GAAHvE,GAAG,CAAEK,QAAQ,cAAAkE,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAexE,IAAI,cAAAyE,mBAAA,uBAAnBA,mBAAA,CAAqBlE,OAAO,MAC5BN,GAAG,aAAHA,GAAG,wBAAAyE,cAAA,GAAHzE,GAAG,CAAEK,QAAQ,cAAAoE,cAAA,wBAAAC,mBAAA,GAAbD,cAAA,CAAe1E,IAAI,cAAA2E,mBAAA,uBAAnBA,mBAAA,CAAqBjF,KAAK,KAC1B,sDACJ,CAAC;IACL;EACJ,CAAC;EAED,oBACIvC,OAAA;IAAKyH,SAAS,EAAC,uCAAuC;IAAAC,QAAA,gBAElD1H,OAAA;MAAKyH,SAAS,EAAC,mDAAmD;MAAAC,QAAA,gBAC9D1H,OAAA;QAAA0H,QAAA,gBACI1H,OAAA;UAAIyH,SAAS,EAAC,uCAAuC;UAAAC,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzE9H,OAAA;UAAGyH,SAAS,EAAC,6BAA6B;UAAAC,QAAA,EAAC;QAAkE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChH,CAAC,eAEN9H,OAAA,CAACH,IAAI;QAACkI,EAAE,EAAC,YAAY;QAAAL,QAAA,eACjB1H,OAAA;UAAQyH,SAAS,EAAC,kGAAkG;UAAAC,QAAA,EAAC;QAErH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLzF,GAAG,iBACArC,OAAA;MAAKyH,SAAS,EAAC,uFAAuF;MAAAC,QAAA,EACjGrF;IAAG;MAAAsF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACR,EACAvF,KAAK,iBACFvC,OAAA;MAAKyH,SAAS,EAAC,2EAA2E;MAAAC,QAAA,EACrFnF;IAAK;MAAAoF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACR,eAGD9H,OAAA;MAAKyH,SAAS,EAAC,4DAA4D;MAAAC,QAAA,gBACvE1H,OAAA;QAAKyH,SAAS,EAAC,kDAAkD;QAAAC,QAAA,gBAC7D1H,OAAA;UAAA0H,QAAA,gBACI1H,OAAA;YAAIyH,SAAS,EAAC,sCAAsC;YAAAC,QAAA,EAC/C1G,SAAS,GAAG,aAAa,GAAG;UAAe;YAAA2G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC,eACL9H,OAAA;YAAGyH,SAAS,EAAC,wBAAwB;YAAAC,QAAA,EAAC;UAEtC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAEL9G,SAAS,iBACNhB,OAAA;UACIgI,IAAI,EAAC,QAAQ;UACbC,OAAO,EAAExF,SAAU;UACnBgF,SAAS,EAAC,gGAAgG;UAAAC,QAAA,EAC7G;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACX;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eAEN9H,OAAA;QAAMkI,QAAQ,EAAEnD,YAAa;QAAC0C,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBACrD1H,OAAA;UAAA0H,QAAA,gBACI1H,OAAA;YAAOyH,SAAS,EAAC,oCAAoC;YAAAC,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnE9H,OAAA;YACIgI,IAAI,EAAC,OAAO;YACZlE,KAAK,EAAE5C,KAAM;YACbiH,QAAQ,EAAGnD,CAAC,IAAK7D,QAAQ,CAAC6D,CAAC,CAACoD,MAAM,CAACtE,KAAK,CAAE;YAC1CuE,WAAW,EAAC,oBAAoB;YAChCZ,SAAS,EAAC;UAA4H;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAED,CAAC,eAEN9H,OAAA;UAAA0H,QAAA,gBACI1H,OAAA;YAAOyH,SAAS,EAAC,oCAAoC;YAAAC,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnE9H,OAAA;YACIgI,IAAI,EAAC,UAAU;YACflE,KAAK,EAAE1C,QAAS;YAChB+G,QAAQ,EAAGnD,CAAC,IAAK3D,WAAW,CAAC2D,CAAC,CAACoD,MAAM,CAACtE,KAAK,CAAE;YAC7CuE,WAAW,EAAC,+BAA+B;YAC3CZ,SAAS,EAAC;UAAK;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAED,CAAC,eAEN9H,OAAA;UAAKyH,SAAS,EAAC,2BAA2B;UAAAC,QAAA,gBACtC1H,OAAA;YAAA0H,QAAA,gBACI1H,OAAA;cAAOyH,SAAS,EAAC,oCAAoC;cAAAC,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvE9H,OAAA;cACIgI,IAAI,EAAC,MAAM;cACXlE,KAAK,EAAExC,QAAS;cAChB6G,QAAQ,EAAGnD,CAAC,IAAKzD,WAAW,CAACyD,CAAC,CAACoD,MAAM,CAACtE,KAAK,CAAE;cAC7CuE,WAAW,EAAC,eAAe;cAC3BZ,SAAS,EAAC;YAA4H;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAEN9H,OAAA;YAAA0H,QAAA,gBACI1H,OAAA;cAAOyH,SAAS,EAAC,oCAAoC;cAAAC,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxE9H,OAAA;cACIgI,IAAI,EAAC,MAAM;cACXlE,KAAK,EAAEtC,UAAW;cAClB2G,QAAQ,EAAGnD,CAAC,IAAKvD,aAAa,CAACuD,CAAC,CAACoD,MAAM,CAACtE,KAAK,CAAE;cAC/CuE,WAAW,EAAC,YAAY;cACxBZ,SAAS,EAAC;YAA4H;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAEN9H,OAAA;UAAA0H,QAAA,gBACI1H,OAAA;YAAOyH,SAAS,EAAC,oCAAoC;YAAAC,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC5E9H,OAAA;YACI8D,KAAK,EAAEpC,GAAI;YACXyG,QAAQ,EAAGnD,CAAC,IAAKrD,MAAM,CAACqD,CAAC,CAACoD,MAAM,CAACtE,KAAK,CAAE;YACxCuE,WAAW,EAAC,sBAAsB;YAClCC,IAAI,EAAE,CAAE;YACRb,SAAS,EAAC;UAA4H;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAEN9H,OAAA;UAAA0H,QAAA,gBACI1H,OAAA;YAAOyH,SAAS,EAAC,oCAAoC;YAAAC,QAAA,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC9E9H,OAAA;YACIgI,IAAI,EAAC,QAAQ;YACbO,GAAG,EAAC,GAAG;YACPzE,KAAK,EAAElC,eAAgB;YACvBuG,QAAQ,EAAGnD,CAAC,IAAKnD,kBAAkB,CAACmD,CAAC,CAACoD,MAAM,CAACtE,KAAK,CAAE;YACpD2D,SAAS,EAAC;UAA4H;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAGN9H,OAAA;UAAKyH,SAAS,EAAC,oDAAoD;UAAAC,QAAA,gBAC/D1H,OAAA;YAAKyH,SAAS,EAAC,yCAAyC;YAAAC,QAAA,gBACpD1H,OAAA;cAAA0H,QAAA,gBACI1H,OAAA;gBAAGyH,SAAS,EAAC,sCAAsC;gBAAAC,QAAA,EAAC;cAAe;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eACvE9H,OAAA;gBAAGyH,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,EAAC;cAAmE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5G,CAAC,eAEN9H,OAAA;cACIgI,IAAI,EAAC,QAAQ;cACbC,OAAO,EAAE5E,QAAS;cAClBoE,SAAS,EAAC,2FAA2F;cAAAC,QAAA,EACxG;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,eAEN9H,OAAA;YAAKyH,SAAS,EAAC,gBAAgB;YAAAC,QAAA,EAC1B5F,MAAM,CAACiC,GAAG,CAAC,CAACC,CAAC,EAAER,GAAG,kBACfxD,OAAA;cAAeyH,SAAS,EAAC,iDAAiD;cAAAC,QAAA,gBACtE1H,OAAA;gBAAKyH,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,EAChCzH,WAAW,CAAC8D,GAAG,CAAEvD,CAAC,iBACfR,OAAA;kBACIgI,IAAI,EAAC,QAAQ;kBAEbC,OAAO,EAAEA,CAAA,KAAMhE,gBAAgB,CAACT,GAAG,EAAEhD,CAAC,CAACL,GAAG,CAAE;kBAC5CsH,SAAS,EAAE,uCAAuCzD,CAAC,CAAChC,IAAI,CAACmC,QAAQ,CAAC3D,CAAC,CAACL,GAAG,CAAC,GAClE,mDAAmD,GACnD,4DAA4D,EAC3D;kBAAAuH,QAAA,EAENlH,CAAC,CAACN;gBAAK,GAPHM,CAAC,CAACL,GAAG;kBAAAwH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAQN,CACX;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC,eAEN9H,OAAA;gBAAKyH,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,gBACxC1H,OAAA;kBAAA0H,QAAA,gBACI1H,OAAA;oBAAOyH,SAAS,EAAC,oCAAoC;oBAAAC,QAAA,EAAC;kBAAK;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACnE9H,OAAA;oBACIgI,IAAI,EAAC,MAAM;oBACXlE,KAAK,EAAEE,CAAC,CAAC/B,KAAM;oBACfkG,QAAQ,EAAGnD,CAAC,IAAKpB,WAAW,CAACJ,GAAG,EAAE,OAAO,EAAEwB,CAAC,CAACoD,MAAM,CAACtE,KAAK,CAAE;oBAC3D2D,SAAS,EAAC;kBAA4H;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC,eAEN9H,OAAA;kBAAA0H,QAAA,gBACI1H,OAAA;oBAAOyH,SAAS,EAAC,oCAAoC;oBAAAC,QAAA,EAAC;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACjE9H,OAAA;oBACIgI,IAAI,EAAC,MAAM;oBACXlE,KAAK,EAAEE,CAAC,CAAC9B,GAAI;oBACbiG,QAAQ,EAAGnD,CAAC,IAAKpB,WAAW,CAACJ,GAAG,EAAE,KAAK,EAAEwB,CAAC,CAACoD,MAAM,CAACtE,KAAK,CAAE;oBACzD2D,SAAS,EAAC;kBAA4H;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,EAELhG,MAAM,CAACyC,MAAM,GAAG,CAAC,iBACdvE,OAAA;gBACIgI,IAAI,EAAC,QAAQ;gBACbC,OAAO,EAAEA,CAAA,KAAM1E,WAAW,CAACC,GAAG,CAAE;gBAChCiE,SAAS,EAAC,wFAAwF;gBAAAC,QAAA,EACrG;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CACX;YAAA,GA/CKtE,GAAG;cAAAmE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAgDR,CACR;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAEN9H,OAAA;UACIgI,IAAI,EAAC,QAAQ;UACbQ,QAAQ,EAAErG,UAAW;UACrBsF,SAAS,EAAC,sHAAsH;UAAAC,QAAA,EAE/HvF,UAAU,GAAG,WAAW,GAAGnB,SAAS,GAAG,eAAe,GAAG;QAAe;UAAA2G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGN9H,OAAA;MAAKyH,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACtB1H,OAAA;QAAKyH,SAAS,EAAC,sCAAsC;QAAAC,QAAA,gBACjD1H,OAAA;UAAIyH,SAAS,EAAC,sCAAsC;UAAAC,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtE9H,OAAA;UACIiI,OAAO,EAAEvF,YAAa;UACtB+E,SAAS,EAAC,gGAAgG;UAAAC,QAAA,EAC7G;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,EAELhH,OAAO,iBACJd,OAAA;QAAKyH,SAAS,EAAC,yEAAyE;QAAAC,QAAA,EAAC;MAEzF;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACR,EAEA,CAAChH,OAAO,IAAIF,OAAO,CAAC2D,MAAM,KAAK,CAAC,iBAC7BvE,OAAA;QAAKyH,SAAS,EAAC,yEAAyE;QAAAC,QAAA,EAAC;MAEzF;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACR,eAED9H,OAAA;QAAKyH,SAAS,EAAC,YAAY;QAAAC,QAAA,EACtB9G,OAAO,CAACmD,GAAG,CAAEvD,CAAC,iBACXR,OAAA;UAAgByH,SAAS,EAAC,4DAA4D;UAAAC,QAAA,gBAClF1H,OAAA;YAAKyH,SAAS,EAAC,kDAAkD;YAAAC,QAAA,gBAC7D1H,OAAA;cAAKyH,SAAS,EAAC,yBAAyB;cAAAC,QAAA,gBACpC1H,OAAA;gBAAKyH,SAAS,EAAC,4EAA4E;gBAAAC,QAAA,EACtFlH,CAAC,CAACiI,SAAS,gBACRzI,OAAA;kBAAK0I,GAAG,EAAElI,CAAC,CAACiI,SAAU;kBAACE,GAAG,EAAEnI,CAAC,CAACc,QAAS;kBAACmG,SAAS,EAAC;gBAA4B;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAEjF9H,OAAA;kBAAKyH,SAAS,EAAC,uEAAuE;kBAAAC,QAAA,EAAC;gBAEvF;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK;cACR;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eAEN9H,OAAA;gBAAA0H,QAAA,gBACI1H,OAAA;kBAAGyH,SAAS,EAAC,wCAAwC;kBAAAC,QAAA,EAAElH,CAAC,CAACc;gBAAQ;kBAAAqG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACtE9H,OAAA;kBAAGyH,SAAS,EAAC,wBAAwB;kBAAAC,QAAA,EAAElH,CAAC,CAACgB;gBAAU;kBAAAmG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACxD9H,OAAA;kBAAGyH,SAAS,EAAC,wBAAwB;kBAAAC,QAAA,EAAElH,CAAC,CAACU;gBAAK;kBAAAyG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACnD9H,OAAA;kBAAGyH,SAAS,EAAC,wBAAwB;kBAAAC,QAAA,GAAElH,CAAC,CAACoB,eAAe,IAAI,CAAC,EAAC,mBAAiB;gBAAA;kBAAA+F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClF,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eAEN9H,OAAA;cAAKyH,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACjC1H,OAAA;gBACIgI,IAAI,EAAC,QAAQ;gBACbC,OAAO,EAAEA,CAAA,KAAMpC,SAAS,CAACrF,CAAC,CAAE;gBAC5BiH,SAAS,EAAC,2FAA2F;gBAAAC,QAAA,EACxG;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAET9H,OAAA;gBACIgI,IAAI,EAAC,QAAQ;gBACbC,OAAO,EAAEA,CAAA,KAAM1B,YAAY,CAAC/F,CAAC,CAACsF,EAAE,CAAE;gBAClC2B,SAAS,EAAC,mFAAmF;gBAAAC,QAAA,EAChG;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAGN9H,OAAA;YAAKyH,SAAS,EAAC,yDAAyD;YAAAC,QAAA,gBACpE1H,OAAA;cAAGyH,SAAS,EAAC,sCAAsC;cAAAC,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,EAE/DnD,KAAK,CAACqB,OAAO,CAACxF,CAAC,CAAC8E,YAAY,CAAC,IAAI9E,CAAC,CAAC8E,YAAY,CAACf,MAAM,GAAG,CAAC,gBACvDvE,OAAA;cAAKyH,SAAS,EAAC,uCAAuC;cAAAC,QAAA,EACjDlH,CAAC,CAAC8E,YAAY,CACVsD,KAAK,CAAC,CAAC,CACPC,IAAI,CAAC,CAAC3C,CAAC,EAAElC,CAAC,KAAKkC,CAAC,CAAC1B,GAAG,GAAGR,CAAC,CAACQ,GAAG,CAAC,CAC7BT,GAAG,CAAC,CAACmC,CAAC,EAAEvC,CAAC,kBACN3D,OAAA;gBAAayH,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,gBACtD1H,OAAA;kBAAMyH,SAAS,EAAC,wGAAwG;kBAAAC,QAAA,EACnHtH,QAAQ,CAAC8F,CAAC,CAAC1B,GAAG;gBAAC;kBAAAmD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACd,CAAC,eACP9H,OAAA;kBAAMyH,SAAS,EAAC,wBAAwB;kBAAAC,QAAA,EACnC,CAACxB,CAAC,CAACpB,MAAM,IAAI,EAAE,EACXf,GAAG,CAAE+E,CAAC,IAAK,GAAGA,CAAC,CAAC7G,KAAK,IAAI6G,CAAC,CAAC5G,GAAG,EAAE,CAAC,CACjC6G,IAAI,CAAC,KAAK;gBAAC;kBAAApB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACd,CAAC;cAAA,GARDnE,CAAC;gBAAAgE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OASN,CACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,gBAEN9H,OAAA;cAAGyH,SAAS,EAAC,6BAA6B;cAAAC,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CACjE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eAGN9H,OAAA;YAAKyH,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACnD1H,OAAA;cAAOyH,SAAS,EAAC,oCAAoC;cAAAC,QAAA,EAAC;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3E9H,OAAA;cACIgI,IAAI,EAAC,MAAM;cACXgB,MAAM,EAAC,SAAS;cAChBb,QAAQ,EAAGnD,CAAC;gBAAA,IAAAiE,eAAA;gBAAA,OAAKnC,YAAY,CAACtG,CAAC,CAACsF,EAAE,GAAAmD,eAAA,GAAEjE,CAAC,CAACoD,MAAM,CAACc,KAAK,cAAAD,eAAA,uBAAdA,eAAA,CAAiB,CAAC,CAAC,CAAC;cAAA,CAAC;cACzDxB,SAAS,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtB,CAAC,eACF9H,OAAA;cAAGyH,SAAS,EAAC,wBAAwB;cAAAC,QAAA,EAAC;YAEtC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,GA/EAtH,CAAC,CAACsF,EAAE;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAgFT,CACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACnH,EAAA,CAzfuBD,YAAY;AAAAyI,EAAA,GAAZzI,YAAY;AAAA,IAAAyI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}