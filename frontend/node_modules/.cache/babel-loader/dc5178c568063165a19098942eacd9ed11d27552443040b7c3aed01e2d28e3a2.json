{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\clinic-system\\\\frontend\\\\src\\\\pages\\\\DoctorDetails.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useMemo, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport api from \"../api/axios\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dayLabels = {\n  1: \"Mon\",\n  2: \"Tue\",\n  3: \"Wed\",\n  4: \"Thu\",\n  5: \"Fri\",\n  6: \"Sat\",\n  0: \"Sun\",\n  7: \"Sun\"\n};\nfunction formatAvailability(av, slotMinutes = 30) {\n  if (!Array.isArray(av) || av.length === 0) return \"Not set\";\n  const nice = av.slice().sort((a, b) => {\n    var _a$day, _b$day;\n    return ((_a$day = a.day) !== null && _a$day !== void 0 ? _a$day : 0) - ((_b$day = b.day) !== null && _b$day !== void 0 ? _b$day : 0);\n  }).map(a => {\n    var _dayLabels$a$day;\n    const day = (_dayLabels$a$day = dayLabels[a.day]) !== null && _dayLabels$a$day !== void 0 ? _dayLabels$a$day : a.day;\n    const ranges = (a.ranges || []).map(r => `${r.start}–${r.end}`).join(\", \");\n    return ranges ? `${day}` : `${day}: (no hours)`;\n  });\n}\nfunction Avatar({\n  name\n}) {\n  const initials = (name || \"D\").split(\" \").filter(Boolean).slice(0, 2).map(s => s[0].toUpperCase()).join(\"\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-28 w-28 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700 font-bold text-3xl\",\n    children: initials\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_c = Avatar;\nexport default function DoctorDetails() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [doctor, setDoctor] = useState(null);\n  const [loadingDoctor, setLoadingDoctor] = useState(true);\n  const [date, setDate] = useState(() => {\n    // default to today in YYYY-MM-DD\n    const d = new Date();\n    const yyyy = d.getFullYear();\n    const mm = String(d.getMonth() + 1).padStart(2, \"0\");\n    const dd = String(d.getDate()).padStart(2, \"0\");\n    return `${yyyy}-${mm}-${dd}`;\n  });\n  const [slots, setSlots] = useState([]);\n  const [loadingSlots, setLoadingSlots] = useState(false);\n  const [selectedSlot, setSelectedSlot] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [booking, setBooking] = useState(false);\n  const availabilityText = useMemo(() => formatAvailability(doctor === null || doctor === void 0 ? void 0 : doctor.availability), [doctor]);\n\n  // 1) fetch doctor\n  useEffect(() => {\n    let mounted = true;\n    setError(\"\");\n    setMsg(\"\");\n    setLoadingDoctor(true);\n    api.get(`/doctors/${id}`).then(res => {\n      if (!mounted) return;\n      setDoctor(res.data);\n    }).catch(err => {\n      var _err$response, _err$response$data;\n      if (!mounted) return;\n      setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to load doctor\");\n    }).finally(() => mounted && setLoadingDoctor(false));\n    return () => {\n      mounted = false;\n    };\n  }, [id]);\n\n  // 2) fetch slots for selected date\n  const fetchSlots = async pickedDate => {\n    setError(\"\");\n    setMsg(\"\");\n    setLoadingSlots(true);\n    setSelectedSlot(\"\");\n    try {\n      var _res$data;\n      const res = await api.get(`/doctors/${id}/slots`, {\n        params: {\n          date: pickedDate\n        }\n      });\n      setSlots(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.slots) || []);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Failed to load slots\");\n      setSlots([]);\n    } finally {\n      setLoadingSlots(false);\n    }\n  };\n  useEffect(() => {\n    if (!id) return;\n    fetchSlots(date);\n    // eslint-disable-next-line\n  }, [id, date]);\n\n  // 3) book selected slot\n  const book = async () => {\n    setError(\"\");\n    setMsg(\"\");\n\n    // Require login to book\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      // redirect back after login\n      localStorage.setItem(\"redirectAfterLogin\", `/doctors/${id}`);\n      navigate(\"/login\");\n      return;\n    }\n    if (!selectedSlot) {\n      setError(\"Please select a time slot.\");\n      return;\n    }\n    setBooking(true);\n    try {\n      const iso = new Date(selectedSlot).toISOString();\n      await api.post(\"/appointments\", {\n        doctorId: id,\n        date: iso\n      });\n      setMsg(\"Appointment booked (pending).\");\n      // refresh slots to remove booked slot\n      fetchSlots(date);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || \"Failed to book appointment\");\n    } finally {\n      setBooking(false);\n    }\n  };\n  if (loadingDoctor) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 text-slate-700\",\n      children: \"Loading doctor\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 12\n    }, this);\n  }\n  if (!doctor) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600\",\n        children: \"Doctor not found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/doctors\",\n        className: \"text-emerald-700 underline\",\n        children: \"Back to doctors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-[calc(100vh-72px)] bg-emerald-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto max-w-6xl px-6 py-10 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/doctors\",\n          className: \"inline-flex items-center gap-2 rounded-xl border border-emerald-100 bg-white px-4 py-2 text-sm hover:bg-emerald-50\",\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-slate-500\",\n          children: user ? `Logged in as ${user.email}` : \"Browse doctors (login to book)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-3xl border border-emerald-100 bg-white p-6 shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row gap-6 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            name: doctor.fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 space-y-2 text-center md:text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-semibold text-slate-900\",\n              children: doctor.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-flex rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium text-emerald-700 border border-emerald-100\",\n              children: doctor.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid gap-2 sm:grid-cols-2 mt-4 text-sm text-slate-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rounded-xl border border-emerald-100 px-3 py-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Experience:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), \" \", doctor.yearsExperience || 0, \" years\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rounded-xl border border-emerald-100 px-3 py-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Availability:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-slate-600 mt-1\",\n                  children: availabilityText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), doctor.bio && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-slate-600\",\n                children: doctor.bio\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-3xl border border-emerald-100 bg-white p-6 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-slate-900\",\n          children: \"Book Your Appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 grid gap-4 md:grid-cols-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-2xl border border-emerald-100 bg-emerald-50 p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-slate-900\",\n              children: \"Select Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: date,\n              onChange: e => setDate(e.target.value),\n              className: \"mt-3 w-full rounded-xl border border-emerald-100 bg-white px-4 py-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3 text-xs text-slate-500\",\n              children: \"Slots are generated from doctor working days/hours and filtered by already-booked appointments.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-2xl border border-emerald-100 bg-white p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-slate-900\",\n                children: \"Available Time Slots\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), loadingSlots && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-slate-500\",\n                children: \"Loading\\u2026\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), !loadingSlots && slots.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3 text-sm text-slate-600\",\n              children: \"No slots available for this date.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-2\",\n              children: slots.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setSelectedSlot(s),\n                className: `rounded-xl border px-3 py-2 text-sm transition\n                      ${selectedSlot === s ? \"border-emerald-600 bg-emerald-600 text-white\" : \"border-emerald-100 bg-emerald-50 hover:bg-emerald-100 text-slate-800\"}`,\n                children: new Date(s).toLocaleTimeString([], {\n                  hour: \"2-digit\",\n                  minute: \"2-digit\"\n                })\n              }, s, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: book,\n              disabled: booking || loadingSlots,\n              className: \"mt-4 w-full rounded-xl bg-emerald-600 px-4 py-3 text-sm font-semibold text-white hover:bg-emerald-700 disabled:opacity-60\",\n              children: booking ? \"Booking…\" : \"Book Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3 text-sm text-emerald-700\",\n              children: msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 23\n            }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3 text-sm text-red-600\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n}\n_s(DoctorDetails, \"x1uGQUbjZLzZRtjzJCjcOMpECnM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c2 = DoctorDetails;\nvar _c, _c2;\n$RefreshReg$(_c, \"Avatar\");\n$RefreshReg$(_c2, \"DoctorDetails\");","map":{"version":3,"names":["useContext","useEffect","useMemo","useState","Link","useNavigate","useParams","api","AuthContext","jsxDEV","_jsxDEV","dayLabels","formatAvailability","av","slotMinutes","Array","isArray","length","nice","slice","sort","a","b","_a$day","_b$day","day","map","_dayLabels$a$day","ranges","r","start","end","join","Avatar","name","initials","split","filter","Boolean","s","toUpperCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","DoctorDetails","_s","id","navigate","user","doctor","setDoctor","loadingDoctor","setLoadingDoctor","date","setDate","d","Date","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","slots","setSlots","loadingSlots","setLoadingSlots","selectedSlot","setSelectedSlot","msg","setMsg","error","setError","booking","setBooking","availabilityText","availability","mounted","get","then","res","data","catch","err","_err$response","_err$response$data","response","message","finally","fetchSlots","pickedDate","_res$data","params","_err$response2","_err$response2$data","book","token","localStorage","getItem","setItem","iso","toISOString","post","doctorId","_err$response3","_err$response3$data","to","email","fullName","department","yearsExperience","bio","type","value","onChange","e","target","onClick","toLocaleTimeString","hour","minute","disabled","_c2","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/clinic-system/frontend/src/pages/DoctorDetails.js"],"sourcesContent":["import { useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport api from \"../api/axios\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nconst dayLabels = {\r\n  1: \"Mon\",\r\n  2: \"Tue\",\r\n  3: \"Wed\",\r\n  4: \"Thu\",\r\n  5: \"Fri\",\r\n  6: \"Sat\",\r\n  0: \"Sun\",\r\n  7: \"Sun\",\r\n};\r\n\r\nfunction formatAvailability(av, slotMinutes = 30) {\r\n  if (!Array.isArray(av) || av.length === 0) return \"Not set\";\r\n\r\n  const nice = av\r\n    .slice()\r\n    .sort((a, b) => (a.day ?? 0) - (b.day ?? 0))\r\n    .map((a) => {\r\n      const day = dayLabels[a.day] ?? a.day;\r\n      const ranges = (a.ranges || [])\r\n        .map((r) => `${r.start}–${r.end}`)\r\n        .join(\", \");\r\n      return ranges ? `${day}` : `${day}: (no hours)`;\r\n    })\r\n\r\n}\r\n\r\n\r\nfunction Avatar({ name }) {\r\n  const initials = (name || \"D\")\r\n    .split(\" \")\r\n    .filter(Boolean)\r\n    .slice(0, 2)\r\n    .map((s) => s[0].toUpperCase())\r\n    .join(\"\");\r\n  return (\r\n    <div className=\"h-28 w-28 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700 font-bold text-3xl\">\r\n      {initials}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function DoctorDetails() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [doctor, setDoctor] = useState(null);\r\n  const [loadingDoctor, setLoadingDoctor] = useState(true);\r\n\r\n  const [date, setDate] = useState(() => {\r\n    // default to today in YYYY-MM-DD\r\n    const d = new Date();\r\n    const yyyy = d.getFullYear();\r\n    const mm = String(d.getMonth() + 1).padStart(2, \"0\");\r\n    const dd = String(d.getDate()).padStart(2, \"0\");\r\n    return `${yyyy}-${mm}-${dd}`;\r\n  });\r\n\r\n  const [slots, setSlots] = useState([]);\r\n  const [loadingSlots, setLoadingSlots] = useState(false);\r\n  const [selectedSlot, setSelectedSlot] = useState(\"\");\r\n\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [booking, setBooking] = useState(false);\r\n\r\n  const availabilityText = useMemo(\r\n    () => formatAvailability(doctor?.availability),\r\n    [doctor]\r\n  );\r\n\r\n  // 1) fetch doctor\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    setError(\"\");\r\n    setMsg(\"\");\r\n    setLoadingDoctor(true);\r\n\r\n    api\r\n      .get(`/doctors/${id}`)\r\n      .then((res) => {\r\n        if (!mounted) return;\r\n        setDoctor(res.data);\r\n      })\r\n      .catch((err) => {\r\n        if (!mounted) return;\r\n        setError(err?.response?.data?.message || \"Failed to load doctor\");\r\n      })\r\n      .finally(() => mounted && setLoadingDoctor(false));\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id]);\r\n\r\n  // 2) fetch slots for selected date\r\n  const fetchSlots = async (pickedDate) => {\r\n    setError(\"\");\r\n    setMsg(\"\");\r\n    setLoadingSlots(true);\r\n    setSelectedSlot(\"\");\r\n    try {\r\n      const res = await api.get(`/doctors/${id}/slots`, {\r\n        params: { date: pickedDate },\r\n      });\r\n      setSlots(res.data?.slots || []);\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || \"Failed to load slots\");\r\n      setSlots([]);\r\n    } finally {\r\n      setLoadingSlots(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    fetchSlots(date);\r\n    // eslint-disable-next-line\r\n  }, [id, date]);\r\n\r\n  // 3) book selected slot\r\n  const book = async () => {\r\n    setError(\"\");\r\n    setMsg(\"\");\r\n\r\n    // Require login to book\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      // redirect back after login\r\n      localStorage.setItem(\"redirectAfterLogin\", `/doctors/${id}`);\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    if (!selectedSlot) {\r\n      setError(\"Please select a time slot.\");\r\n      return;\r\n    }\r\n\r\n    setBooking(true);\r\n    try {\r\n      const iso = new Date(selectedSlot).toISOString();\r\n\r\n      await api.post(\"/appointments\", {\r\n        doctorId: id,\r\n        date: iso,\r\n      });\r\n\r\n      setMsg(\"Appointment booked (pending).\");\r\n      // refresh slots to remove booked slot\r\n      fetchSlots(date);\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || \"Failed to book appointment\");\r\n    } finally {\r\n      setBooking(false);\r\n    }\r\n  };\r\n\r\n  if (loadingDoctor) {\r\n    return <div className=\"p-6 text-slate-700\">Loading doctor…</div>;\r\n  }\r\n\r\n  if (!doctor) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <p className=\"text-red-600\">Doctor not found.</p>\r\n        <Link to=\"/doctors\" className=\"text-emerald-700 underline\">\r\n          Back to doctors\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-[calc(100vh-72px)] bg-emerald-50\">\r\n      <div className=\"mx-auto max-w-6xl px-6 py-10 space-y-6\">\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <Link\r\n            to=\"/doctors\"\r\n            className=\"inline-flex items-center gap-2 rounded-xl border border-emerald-100 bg-white px-4 py-2 text-sm hover:bg-emerald-50\"\r\n          >\r\n            ← Back\r\n          </Link>\r\n\r\n          <div className=\"text-xs text-slate-500\">\r\n            {user ? `Logged in as ${user.email}` : \"Browse doctors (login to book)\"}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Doctor profile card */}\r\n        <div className=\"rounded-3xl border border-emerald-100 bg-white p-6 shadow-sm\">\r\n          <div className=\"flex flex-col md:flex-row gap-6 items-center\">\r\n            <Avatar name={doctor.fullName} />\r\n\r\n            <div className=\"flex-1 space-y-2 text-center md:text-left\">\r\n              <h1 className=\"text-2xl font-semibold text-slate-900\">\r\n                {doctor.fullName}\r\n              </h1>\r\n\r\n              <span className=\"inline-flex rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium text-emerald-700 border border-emerald-100\">\r\n                {doctor.department}\r\n              </span>\r\n\r\n              <div className=\"grid gap-2 sm:grid-cols-2 mt-4 text-sm text-slate-700\">\r\n                <div className=\"rounded-xl border border-emerald-100 px-3 py-2\">\r\n                  <b>Experience:</b> {doctor.yearsExperience || 0} years\r\n                </div>\r\n                <div className=\"rounded-xl border border-emerald-100 px-3 py-2\">\r\n                  <b>Availability:</b>\r\n                  <div className=\"text-slate-600 mt-1\">{availabilityText}</div>\r\n                </div>\r\n              </div>\r\n\r\n              {doctor.bio && (\r\n                <div className=\"pt-3\">\r\n                  <p className=\"text-sm text-slate-600\">{doctor.bio}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Booking section */}\r\n        <div className=\"rounded-3xl border border-emerald-100 bg-white p-6 shadow-sm\">\r\n          <h2 className=\"text-lg font-semibold text-slate-900\">\r\n            Book Your Appointment\r\n          </h2>\r\n\r\n          <div className=\"mt-4 grid gap-4 md:grid-cols-2\">\r\n            {/* Date */}\r\n            <div className=\"rounded-2xl border border-emerald-100 bg-emerald-50 p-4\">\r\n              <p className=\"text-sm font-medium text-slate-900\">Select Date</p>\r\n              <input\r\n                type=\"date\"\r\n                value={date}\r\n                onChange={(e) => setDate(e.target.value)}\r\n                className=\"mt-3 w-full rounded-xl border border-emerald-100 bg-white px-4 py-3\"\r\n              />\r\n\r\n              <p className=\"mt-3 text-xs text-slate-500\">\r\n                Slots are generated from doctor working days/hours and filtered\r\n                by already-booked appointments.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Slots */}\r\n            <div className=\"rounded-2xl border border-emerald-100 bg-white p-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <p className=\"text-sm font-medium text-slate-900\">\r\n                  Available Time Slots\r\n                </p>\r\n                {loadingSlots && (\r\n                  <span className=\"text-xs text-slate-500\">Loading…</span>\r\n                )}\r\n              </div>\r\n\r\n              {!loadingSlots && slots.length === 0 && (\r\n                <p className=\"mt-3 text-sm text-slate-600\">\r\n                  No slots available for this date.\r\n                </p>\r\n              )}\r\n\r\n              <div className=\"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-2\">\r\n                {slots.map((s) => (\r\n                  <button\r\n                    key={s}\r\n                    type=\"button\"\r\n                    onClick={() => setSelectedSlot(s)}\r\n                    className={`rounded-xl border px-3 py-2 text-sm transition\r\n                      ${selectedSlot === s\r\n                        ? \"border-emerald-600 bg-emerald-600 text-white\"\r\n                        : \"border-emerald-100 bg-emerald-50 hover:bg-emerald-100 text-slate-800\"\r\n                      }`}\r\n                  >\r\n                    {new Date(s).toLocaleTimeString([], {\r\n                      hour: \"2-digit\",\r\n                      minute: \"2-digit\",\r\n                    })}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              <button\r\n                onClick={book}\r\n                disabled={booking || loadingSlots}\r\n                className=\"mt-4 w-full rounded-xl bg-emerald-600 px-4 py-3 text-sm font-semibold text-white hover:bg-emerald-700 disabled:opacity-60\"\r\n              >\r\n                {booking ? \"Booking…\" : \"Book Now\"}\r\n              </button>\r\n\r\n              {msg && <p className=\"mt-3 text-sm text-emerald-700\">{msg}</p>}\r\n              {error && <p className=\"mt-3 text-sm text-red-600\">{error}</p>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}